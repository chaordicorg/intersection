(function($){$.fn.intersection=function(options){var _opt=$.extend({"root":null,"rootMargin":"-50% 0px","threshold":0,"target":".box",callback:function(_dom){console.log(_dom)}},options);return this.each(function(){const Intersect=function(entries){for(var i=0;i<entries.length;i++){if(entries[i].isIntersecting){_opt.callback(entries[i].target)}}}
const _boxes=document.querySelectorAll(_opt.target);const _options={root:_opt.root,rootMargin:_opt.rootMargin,threshold:_opt.threshold};const observer=new IntersectionObserver(Intersect,_options);for(var i=0;i<_boxes.length;i++){observer.observe(_boxes[i])}})}})(jQuery)